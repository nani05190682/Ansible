Ansible inventory configuration refers to defining the hosts or groups of hosts that Ansible will manage. The inventory can be a simple text file, an INI file, YAML, or dynamic inventory generated by scripts or plugins.

### Types of Ansible Inventory

1. **Static Inventory**: A fixed file containing the list of hosts. This can be in INI or YAML format.
2. **Dynamic Inventory**: Generated dynamically from external sources (e.g., AWS, GCP) using inventory scripts or plugins.

---

### **Static Inventory (INI Format)**

Here’s an example of a simple INI-based inventory file:

```ini
# Defining individual hosts
server1 ansible_host=192.168.1.10 ansible_user=root
server2 ansible_host=192.168.1.11 ansible_user=root

# Grouping hosts
[webservers]
server1
server2

[databases]
db1 ansible_host=192.168.1.12 ansible_user=admin ansible_password=secret

# Group of groups
[application:children]
webservers
databases

# Variables for a group
[webservers:vars]
ansible_ssh_private_key_file=/path/to/key
```

In this example:

- `server1` and `server2` are hosts in the `webservers` group.
- The `application` group combines `webservers` and `databases`.
- Group-specific variables are defined in `[webservers:vars]`, which will be applied to all hosts in the `webservers` group.

---

### **Static Inventory (YAML Format)**

Here’s the same example in YAML format:

```yaml
all:
  children:
    webservers:
      hosts:
        server1:
          ansible_host: 192.168.1.10
          ansible_user: root
        server2:
          ansible_host: 192.168.1.11
          ansible_user: root
    databases:
      hosts:
        db1:
          ansible_host: 192.168.1.12
          ansible_user: admin
          ansible_password: secret
  vars:
    ansible_ssh_private_key_file: /path/to/key
```

---

### **Dynamic Inventory**

A dynamic inventory is used when your infrastructure is constantly changing. A common example is integrating with cloud platforms like AWS, where instances might scale up or down. Ansible can generate inventory dynamically using plugins or external scripts.

For example, with AWS EC2:

1. Install the `boto3` Python library for AWS integration.
2. Configure `ansible.cfg` to use the `aws_ec2` plugin:

```ini
[inventory]
enable_plugins = aws_ec2
```

3. Create a dynamic inventory configuration in `aws_ec2.yaml`:

```yaml
plugin: aws_ec2
regions:
  - us-east-1
filters:
  tag:Environment: production
hostnames:
  - tag:Name
```

This will dynamically pull EC2 instances from the specified AWS region, filtering by tag.

---

### **Setting Inventory in `ansible.cfg`**

You can define the default inventory file in the `ansible.cfg` configuration file:

```ini
[defaults]
inventory = /path/to/inventory/file
```

---

Let me know if you need more details or assistance with a specific type of inventory configuration!
